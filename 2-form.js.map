{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: '', message: '' };\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst fillFormFields = form => {\n  try {\n    const formDataFromLS = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    if (formDataFromLS === null) {\n      return;\n    }\n\n    formData = formDataFromLS;\n\n    Object.keys(formDataFromLS).forEach(key => {\n      form.elements[key].value = formDataFromLS[key];\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nfillFormFields(refs.form);\n\nconst fieldChangeHandler = ({ target: formField }) => {\n  formData[formField.name] = formField.value.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst formSubmitHandler = event => {\n  event.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n\n  event.target.reset();\n  formData = { email: '', message: '' };\n  localStorage.removeItem('feedback-form-state');\n};\n\nrefs.form.addEventListener('input', fieldChangeHandler);\nrefs.form.addEventListener('submit', formSubmitHandler);\n"],"names":["formData","refs","fillFormFields","form","formDataFromLS","key","err","fieldChangeHandler","formField","formSubmitHandler","event"],"mappings":"oCAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEMC,EAAiBC,GAAQ,CAC7B,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EAEI,GAAIA,IAAmB,KACrB,OAGFJ,EAAWI,EAEX,OAAO,KAAKA,CAAc,EAAE,QAAQC,GAAO,CACzCF,EAAK,SAASE,CAAG,EAAE,MAAQD,EAAeC,CAAG,CACnD,CAAK,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAJ,EAAeD,EAAK,IAAI,EAExB,MAAMM,EAAqB,CAAC,CAAE,OAAQC,KAAgB,CACpDR,EAASQ,EAAU,IAAI,EAAIA,EAAU,MAAM,OAC3C,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACtE,EAEMS,EAAoBC,GAAS,CAGjC,GAFAA,EAAM,eAAc,EAEhBV,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIA,CAAQ,EAEpBU,EAAM,OAAO,QACbV,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAW,qBAAqB,CAC/C,EAEAC,EAAK,KAAK,iBAAiB,QAASM,CAAkB,EACtDN,EAAK,KAAK,iBAAiB,SAAUQ,CAAiB"}